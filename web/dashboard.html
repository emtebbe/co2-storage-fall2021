<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script type="text/javascript" src="jquery-3.6.0.min.js"></script>
  <style>
  body {font-family: "Lato", sans-serif;}

  /* Header/logo Title */
  .header {
    padding: 1px;
    text-align: center;
    background: white;
    color: #4ba173;
  }

  /* Increase the font size of the heading */
  .header h1 {
    font-size: 35px;
  }

  /* Style the navbar */
  .navbar {
    overflow: hidden;
    background-color: #4ba173;
  }

  /* Style the navigation bar links */
  .navbar a {
    float: left;
    display: block;
    color: white;
    text-align: center;
    padding: 14px 20px;
    text-decoration: none;
  }

  /* Change color on hover */
  .navbar a:hover {
    background-color: #9e9e9e;
    color: black;
  }

  /* Active/current link */
  .navbar a.active {
    background-color: #085631;
    color: white;
  }

  .dropdown {
    float: left;
    display: block;
    text-align: center;
    padding: 5px 15px 10px 10px;
    text-decoration: none;
  }

  /* Old ones */

  .main {
    padding: 10px;
    background-color: white;
    height: 100%;
  }

  *, *:before, *:after {
    box-sizing: inherit;
  }

  .row {
    display: -ms-flexbox; /* IE10 */
    display: flex;
    -ms-flex-wrap: wrap; /* IE10 */
    flex-wrap: wrap;
  }

  *, ::after, ::before {
    box-sizing: border-box;
  }

  .column {
    position: relative;
    width: 20%;
    padding-right: .75rem;
    padding-left: .75rem;
    margin-bottom: 10px;
  }

  .card {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid #e3e6f0;
    border-radius: .35rem;
  }

  .card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
  }

  .align-items-center {
    align-items: center;
  }

  .no-gutters {
    margin-right: 0;
    margin-left: 0;
  }

  .col {
    flex-basis: 0;
    flex-grow: 1;
    max-width: 100%;
    margin-right: .5rem;
  }

  .shadow {
    box-shadow: 0 .15rem 1.75rem 0 rgba(58,59,69,.15);
  }

  .chart-header {
    padding: .75rem 1.25rem;
    margin-bottom: 0;
    background-color: #f8f9fc;
    border-bottom: 1px solid #e3e6f0;
    border-radius: calc(.35rem - 1px) calc(.35rem - 1px) 0 0;
    padding-bottom: 1rem;
    padding-top: 1rem;
    align-items: center;
    justify-content: space-between;
    flex-direction: row;
    display: flex;
  }

  .chart-body {
    position: relative;
    width: 100%;
    padding-right: .75rem;
    padding-left: .75rem;
    margin-bottom: 1.5rem;
  }

  .chart {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 38rem;
  }

</style>
</head>
<body>
  <div class="header">
    <img src="/img/logo.png" align="left"/>
    <h1>Optimized Storage of Captured Carbon Dioxide in California</h1>
  </div>

  <div class="navbar">
    <a href="index.html">Home</a>
    <a href="dashboard.html" class="active">Dashboard</a>
    <a href="faq.html">FAQ</a>
    <a href="contributors.html">About Us</a>
  </div>

  <div class="main">
    <div class="row">
      <form class="dropdown" action="" method="post">
        <label for="industry">Industry:</label>
        <select name="industry" id="industry">
          <option value="default">Not selected</option>
          <option value="all">All</option>
          <option value="cement">Cement</option>
          <option value="energy">Energy</option>
          <option value="oil_refining">Oil Refining</option>
          <option value="steel">Steel</option>
        </select>
      </form>

      <form class="dropdown" action="" method="post">
        <label for="timeframe">Emission Timeframe:</label>
        <select name="timeframe" id="timeframe">
          <option value="30_year">30 years</option>
          <option value="20_year">20 years</option>
          <option value="10_year">10 years</option>
          <option value="5_year">5 years</option>
          <option value="1_year">1 year</option>
        </select>
      </form>

      <form class="dropdown" action="" method="post">
        <label for="view">View Type:</label>
        <select name="view" id="view">
          <option value="map">Map</option>
          <option value="sankey">Sankey diagram</option>
        </select>
      </form>
    </div>

    <div class="row">
      <div class="column">
        <div class="card" style="border-left: .25rem solid #4ba173;">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col">
                <div style="color:#4ba173;text-transform:uppercase;font-size:.8rem;font-weight:700;margin-bottom:.25rem;">
                  Cost per Ton
                  <br>
                  ($/ton)
                </div>
                <div><h5 id="cost_per_ton" style="color:#5a5c69;font-size:1.25rem;font-weight:700;margin-top:10px;margin-bottom:0;">-</h5></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="card" style="border-left: .25rem solid #4ba173;">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col">
                <div style="color:#4ba173;text-transform:uppercase;font-size:.8rem;font-weight:700;margin-bottom:.25rem;">
                  Total Cost
                  <br>
                  (Millions)
                </div>
                <div><h5 id="total_cost" style="color:#5a5c69;font-size:1.25rem;font-weight:700;margin-top:10px;margin-bottom:0;">-</h5></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="card" style="border-left: .25rem solid #4ba173;">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col">
                <div style="color:#4ba173;text-transform:uppercase;font-size:.8rem;font-weight:700;margin-bottom:.25rem;">
                  Total Volume
                  <br>
                  (Thousands of Tons)
                </div>
                <div><h5 id="total_volume" style="color:#5a5c69;font-size:1.25rem;font-weight:700;margin-top:10px;margin-bottom:0;">-</h5></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="card" style="border-left: .25rem solid #4ba173;">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col">
                <div style="color:#4ba173;text-transform:uppercase;font-size:.8rem;font-weight:700;margin-bottom:.25rem;">
                  Total Distance
                  <br>
                  (miles)
                </div>
                <div><h5 id="total_distance" style="color:#5a5c69;font-size:1.25rem;font-weight:700;margin-top:10px;margin-bottom:0;">-</h5></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="card" style="border-left: .25rem solid #4ba173;">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col">
                <div style="color:#4ba173;text-transform:uppercase;font-size:.8rem;font-weight:700;margin-bottom:.25rem;">
                  Pool Volume Used
                  <br>
                  (%)
                </div>
                <div><h5 id="pool_usage" style="color:#5a5c69;font-size:1.25rem;font-weight:700;margin-top:10px;margin-bottom:0;">-</h5></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="card shadow">
        <div class="chart-header">
          <h6 style="color:#4ba173;font-weight:700;margin:0;font-size:1rem;line-height: 1.2;">
            Top 20 Cost-Efficient Projects
          </h6>
        </div>
        <div class="chart-body">
          <div class="row" style="margin-top:10px;">
            <div class="column" style="width:50%;">
              <div class="chart">
                <iframe id="map_or_sankey" src="viz/map_full_detailed_results_all_all_year.html" name="map_or_sankey" title="Optimal Routes" height="100%" width="100%" frameBorder="0"></iframe>
              </div>
            </div>

            <div class="column" style="width:50%;">
              <div class="chart">
                <iframe id="list" src="viz/html_full_detailed_results_all_all_year.html" name="list" title="Optimal Pairings" height="100%" width="100%" frameBorder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  $("#industry").change(function() {
    var industry;
    switch($('#industry').val()) {
      case 'all':
      industry = 'total';
      break;
      case 'cement':
      industry = 'cement';
      break;
      case 'energy':
      industry = 'energy';
      break;
      case 'oil_refining':
      industry = 'oil_refining';
      break;
      case 'steel':
      industry = 'steel';
      break;
      default:
      industry = 'default';
    }
    var timeframe;
    switch($('#timeframe').val()) {
      case '30_year':
      timeframe = '30_year';
      break;
      case '20_year':
      timeframe = '20_year';
      break;
      case '10_year':
      timeframe = '10_year';
      break;
      case '5_year':
      timeframe = '5_year';
      break;
      case '1_year':
      timeframe = '1_year';
      break;
      default:
      timeframe = '30_year';
    }
    var view;
    switch($('#view').val()) {
      case 'map':
      view = 'map';
      break;
      case 'sankey':
      view = 'sankey';
      break;
      default:
      view = 'map';
    }

    /* Change viz according to user inputs */
    if(industry == 'default') {
      $("#map_or_sankey").attr('src', "viz/map_full_detailed_results_all_all_year.html");
      $("#list").attr('src', "viz/html_full_detailed_results_all_all_year.html");

      document.getElementById("cost_per_ton").innerHTML = "-";
      document.getElementById("total_cost").innerHTML = "-";
      document.getElementById("total_distance").innerHTML = "-";
      document.getElementById("total_volume").innerText = "-";
      document.getElementById("pool_usage").innerText = "-";
    }
    else {
      var filename = 'viz/' + view + '_full_detailed_results_' + industry + '_' + timeframe + '.html';
      var filename_list = 'viz/html_full_detailed_results_' + industry + '_' + timeframe + '.html';
      $("#map_or_sankey").attr('src', filename);
      $("#list").attr('src', filename_list);

      /* Change metrics according to user inputs */
      var cost_per_ton;
      var total_cost;
      var total_distance;
      var total_volume;
      var emitters;
      var pools;

      if (industry == 'cement') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '546,830';
          document.getElementById("total_cost").innerHTML = '7,897,318';
          document.getElementById("total_distance").innerHTML = '25,906';
          document.getElementById("cost_per_ton").innerHTML = '14,442';
          document.getElementById("pool_usage").innerText = '31';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '364,554';
          document.getElementById("total_cost").innerHTML = '7,842,704';
          document.getElementById("total_distance").innerHTML = '17,039';
          document.getElementById("cost_per_ton").innerHTML = '21,513';
          document.getElementById("pool_usage").innerText = '21';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '182,277';
          document.getElementById("total_cost").innerHTML = '45,186';
          document.getElementById("total_distance").innerHTML = '4,604';
          document.getElementById("cost_per_ton").innerHTML = '248';
          document.getElementById("pool_usage").innerText = '10';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '91,138';
          document.getElementById("total_cost").innerHTML = '35,755';
          document.getElementById("total_distance").innerHTML = '4,071';
          document.getElementById("cost_per_ton").innerHTML = '392';
          document.getElementById("pool_usage").innerText = '5';
        }
        else {
          document.getElementById("total_volume").innerText = '18,228';
          document.getElementById("total_cost").innerHTML = '7,161';
          document.getElementById("total_distance").innerHTML = '1,914';
          document.getElementById("cost_per_ton").innerHTML = '393';
          document.getElementById("pool_usage").innerText = '1';
        }
      }
      else if (industry == 'energy') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,199';
          document.getElementById("total_distance").innerHTML = '241,248';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,065,173';
          document.getElementById("total_distance").innerHTML = '247,291';
          document.getElementById("cost_per_ton").innerHTML = '5,218';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,051,721';
          document.getElementById("total_cost").innerHTML = '8,188,888';
          document.getElementById("total_distance").innerHTML = '63,431';
          document.getElementById("cost_per_ton").innerHTML = '7,786';
          document.getElementById("pool_usage").innerText = '61';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '525,861';
          document.getElementById("total_cost").innerHTML = '7,845,148';
          document.getElementById("total_distance").innerHTML = '30,826';
          document.getElementById("cost_per_ton").innerHTML = '14,919';
          document.getElementById("pool_usage").innerText = '30';
        }
        else {
          document.getElementById("total_volume").innerText = '105,172';
          document.getElementById("total_cost").innerHTML = '5,572,413';
          document.getElementById("total_distance").innerHTML = '18,161';
          document.getElementById("cost_per_ton").innerHTML = '52,984';
          document.getElementById("pool_usage").innerText = '6';
        }
      }
      else if (industry == 'oil_refining') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,636';
          document.getElementById("total_distance").innerHTML = '180,609';
          document.getElementById("cost_per_ton").innerHTML = '5,212';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,321,052';
          document.getElementById("total_cost").innerHTML = '8,331,118';
          document.getElementById("total_distance").innerHTML = '51,870';
          document.getElementById("cost_per_ton").innerHTML = '6,306';
          document.getElementById("pool_usage").innerText = '76';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '660,526';
          document.getElementById("total_cost").innerHTML = '7,999,460';
          document.getElementById("total_distance").innerHTML = '34,078';
          document.getElementById("cost_per_ton").innerHTML = '12,111';
          document.getElementById("pool_usage").innerText = '38';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '330,263';
          document.getElementById("total_cost").innerHTML = '7,805,848';
          document.getElementById("total_distance").innerHTML = '13,319';
          document.getElementById("cost_per_ton").innerHTML = '23,635';
          document.getElementById("pool_usage").innerText = '19';
        }
        else {
          document.getElementById("total_volume").innerText = '66,053';
          document.getElementById("total_cost").innerHTML = '5,483,917';
          document.getElementById("total_distance").innerHTML = '3,220';
          document.getElementById("cost_per_ton").innerHTML = '83,023';
          document.getElementById("pool_usage").innerText = '4';
        }
      }
      else if (industry == 'steel') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '429';
          document.getElementById("total_cost").innerHTML = '227';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '286';
          document.getElementById("total_cost").innerHTML = '151';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '143';
          document.getElementById("total_cost").innerHTML = '76';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '72';
          document.getElementById("total_cost").innerHTML = '38';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else {
          document.getElementById("total_volume").innerText = '14';
          document.getElementById("total_cost").innerHTML = '8';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
      }
      else {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,297';
          document.getElementById("total_distance").innerHTML = '283,160';
          document.getElementById("cost_per_ton").innerHTML = '5,211';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,061,900';
          document.getElementById("total_distance").innerHTML = '266,775';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,764';
          document.getElementById("total_distance").innerHTML = '257,489';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '947,334';
          document.getElementById("total_cost").innerHTML = '8,139,369';
          document.getElementById("total_distance").innerHTML = '67,874';
          document.getElementById("cost_per_ton").innerHTML = '8,592';
          document.getElementById("pool_usage").innerText = '55';
        }
        else {
          document.getElementById("total_volume").innerText = '189,467';
          document.getElementById("total_cost").innerHTML = '7,735,821';
          document.getElementById("total_distance").innerHTML = '27,118';
          document.getElementById("cost_per_ton").innerHTML = '40,829';
          document.getElementById("pool_usage").innerText = '11';
        }
      }
    }
  });

  $("#timeframe").change(function() {
    var industry;
    switch($('#industry').val()) {
      case 'all':
      industry = 'total';
      break;
      case 'cement':
      industry = 'cement';
      break;
      case 'energy':
      industry = 'energy';
      break;
      case 'oil_refining':
      industry = 'oil_refining';
      break;
      case 'steel':
      industry = 'steel';
      break;
      default:
      industry = 'default';
    }
    var timeframe;
    switch($('#timeframe').val()) {
      case '30_year':
      timeframe = '30_year';
      break;
      case '20_year':
      timeframe = '20_year';
      break;
      case '10_year':
      timeframe = '10_year';
      break;
      case '5_year':
      timeframe = '5_year';
      break;
      case '1_year':
      timeframe = '1_year';
      break;
      default:
      timeframe = '30_year';
    }
    var view;
    switch($('#view').val()) {
      case 'map':
      view = 'map';
      break;
      case 'sankey':
      view = 'sankey';
      break;
      default:
      view = 'map';
    }
    /* Change viz according to user inputs */
    if(industry == 'default') {
      $("#map_or_sankey").attr('src', "viz/map_full_detailed_results_all_all_year.html");
      $("#list").attr('src', "viz/html_full_detailed_results_all_all_year.html");

      document.getElementById("cost_per_ton").innerHTML = "-";
      document.getElementById("total_cost").innerHTML = "-";
      document.getElementById("total_distance").innerHTML = "-";
      document.getElementById("total_volume").innerText = "-";
      document.getElementById("pool_usage").innerText = "-";
    }
    else {
      var filename = 'viz/' + view + '_full_detailed_results_' + industry + '_' + timeframe + '.html';
      var filename_list = 'viz/html_full_detailed_results_' + industry + '_' + timeframe + '.html';
      $("#map_or_sankey").attr('src', filename);
      $("#list").attr('src', filename_list);

      /* Change metrics according to user inputs */
      var cost_per_ton;
      var total_cost;
      var total_distance;
      var total_volume;
      var emitters;
      var pools;

      if (industry == 'cement') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '546,830';
          document.getElementById("total_cost").innerHTML = '7,897,318';
          document.getElementById("total_distance").innerHTML = '25,906';
          document.getElementById("cost_per_ton").innerHTML = '14,442';
          document.getElementById("pool_usage").innerText = '31';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '364,554';
          document.getElementById("total_cost").innerHTML = '7,842,704';
          document.getElementById("total_distance").innerHTML = '17,039';
          document.getElementById("cost_per_ton").innerHTML = '21,513';
          document.getElementById("pool_usage").innerText = '21';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '182,277';
          document.getElementById("total_cost").innerHTML = '45,186';
          document.getElementById("total_distance").innerHTML = '4,604';
          document.getElementById("cost_per_ton").innerHTML = '248';
          document.getElementById("pool_usage").innerText = '10';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '91,138';
          document.getElementById("total_cost").innerHTML = '35,755';
          document.getElementById("total_distance").innerHTML = '4,071';
          document.getElementById("cost_per_ton").innerHTML = '392';
          document.getElementById("pool_usage").innerText = '5';
        }
        else {
          document.getElementById("total_volume").innerText = '18,228';
          document.getElementById("total_cost").innerHTML = '7,161';
          document.getElementById("total_distance").innerHTML = '1,914';
          document.getElementById("cost_per_ton").innerHTML = '393';
          document.getElementById("pool_usage").innerText = '1';
        }
      }
      else if (industry == 'energy') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,199';
          document.getElementById("total_distance").innerHTML = '241,248';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,065,173';
          document.getElementById("total_distance").innerHTML = '247,291';
          document.getElementById("cost_per_ton").innerHTML = '5,218';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,051,721';
          document.getElementById("total_cost").innerHTML = '8,188,888';
          document.getElementById("total_distance").innerHTML = '63,431';
          document.getElementById("cost_per_ton").innerHTML = '7,786';
          document.getElementById("pool_usage").innerText = '61';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '525,861';
          document.getElementById("total_cost").innerHTML = '7,845,148';
          document.getElementById("total_distance").innerHTML = '30,826';
          document.getElementById("cost_per_ton").innerHTML = '14,919';
          document.getElementById("pool_usage").innerText = '30';
        }
        else {
          document.getElementById("total_volume").innerText = '105,172';
          document.getElementById("total_cost").innerHTML = '5,572,413';
          document.getElementById("total_distance").innerHTML = '18,161';
          document.getElementById("cost_per_ton").innerHTML = '52,984';
          document.getElementById("pool_usage").innerText = '6';
        }
      }
      else if (industry == 'oil_refining') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,636';
          document.getElementById("total_distance").innerHTML = '180,609';
          document.getElementById("cost_per_ton").innerHTML = '5,212';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,321,052';
          document.getElementById("total_cost").innerHTML = '8,331,118';
          document.getElementById("total_distance").innerHTML = '51,870';
          document.getElementById("cost_per_ton").innerHTML = '6,306';
          document.getElementById("pool_usage").innerText = '76';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '660,526';
          document.getElementById("total_cost").innerHTML = '7,999,460';
          document.getElementById("total_distance").innerHTML = '34,078';
          document.getElementById("cost_per_ton").innerHTML = '12,111';
          document.getElementById("pool_usage").innerText = '38';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '330,263';
          document.getElementById("total_cost").innerHTML = '7,805,848';
          document.getElementById("total_distance").innerHTML = '13,319';
          document.getElementById("cost_per_ton").innerHTML = '23,635';
          document.getElementById("pool_usage").innerText = '19';
        }
        else {
          document.getElementById("total_volume").innerText = '66,053';
          document.getElementById("total_cost").innerHTML = '5,483,917';
          document.getElementById("total_distance").innerHTML = '3,220';
          document.getElementById("cost_per_ton").innerHTML = '83,023';
          document.getElementById("pool_usage").innerText = '4';
        }
      }
      else if (industry == 'steel') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '429';
          document.getElementById("total_cost").innerHTML = '227';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '286';
          document.getElementById("total_cost").innerHTML = '151';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '143';
          document.getElementById("total_cost").innerHTML = '76';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '72';
          document.getElementById("total_cost").innerHTML = '38';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else {
          document.getElementById("total_volume").innerText = '14';
          document.getElementById("total_cost").innerHTML = '8';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
      }
      else {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,297';
          document.getElementById("total_distance").innerHTML = '283,160';
          document.getElementById("cost_per_ton").innerHTML = '5,211';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,061,900';
          document.getElementById("total_distance").innerHTML = '266,775';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,764';
          document.getElementById("total_distance").innerHTML = '257,489';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '947,334';
          document.getElementById("total_cost").innerHTML = '8,139,369';
          document.getElementById("total_distance").innerHTML = '67,874';
          document.getElementById("cost_per_ton").innerHTML = '8,592';
          document.getElementById("pool_usage").innerText = '55';
        }
        else {
          document.getElementById("total_volume").innerText = '189,467';
          document.getElementById("total_cost").innerHTML = '7,735,821';
          document.getElementById("total_distance").innerHTML = '27,118';
          document.getElementById("cost_per_ton").innerHTML = '40,829';
          document.getElementById("pool_usage").innerText = '11';
        }
      }
    }
  });

  $("#view").change(function() {
    var industry;
    switch($('#industry').val()) {
      case 'all':
      industry = 'total';
      break;
      case 'cement':
      industry = 'cement';
      break;
      case 'energy':
      industry = 'energy';
      break;
      case 'oil_refining':
      industry = 'oil_refining';
      break;
      case 'steel':
      industry = 'steel';
      break;
      default:
      industry = 'default';
    }
    var timeframe;
    switch($('#timeframe').val()) {
      case '30_year':
      timeframe = '30_year';
      break;
      case '20_year':
      timeframe = '20_year';
      break;
      case '10_year':
      timeframe = '10_year';
      break;
      case '5_year':
      timeframe = '5_year';
      break;
      case '1_year':
      timeframe = '1_year';
      break;
      default:
      timeframe = '30_year';
    }
    var view;
    switch($('#view').val()) {
      case 'map':
      view = 'map';
      break;
      case 'sankey':
      view = 'sankey';
      break;
      default:
      view = 'map';
    }
    /* Change viz according to user inputs */
    if(industry == 'default') {
      $("#map_or_sankey").attr('src', "viz/map_full_detailed_results_all_all_year.html");
      $("#list").attr('src', "viz/html_full_detailed_results_all_all_year.html");

      document.getElementById("cost_per_ton").innerHTML = "-";
      document.getElementById("total_cost").innerHTML = "-";
      document.getElementById("total_distance").innerHTML = "-";
      document.getElementById("total_volume").innerText = "-";
      document.getElementById("pool_usage").innerText = "-";
    }
    else {
      var filename = 'viz/' + view + '_full_detailed_results_' + industry + '_' + timeframe + '.html';
      var filename_list = 'viz/html_full_detailed_results_' + industry + '_' + timeframe + '.html';
      $("#map_or_sankey").attr('src', filename);
      $("#list").attr('src', filename_list);

      /* Change metrics according to user inputs */
      var cost_per_ton;
      var total_cost;
      var total_distance;
      var total_volume;
      var emitters;
      var pools;

      if (industry == 'cement') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '546,830';
          document.getElementById("total_cost").innerHTML = '7,897,318';
          document.getElementById("total_distance").innerHTML = '25,906';
          document.getElementById("cost_per_ton").innerHTML = '14,442';
          document.getElementById("pool_usage").innerText = '31';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '364,554';
          document.getElementById("total_cost").innerHTML = '7,842,704';
          document.getElementById("total_distance").innerHTML = '17,039';
          document.getElementById("cost_per_ton").innerHTML = '21,513';
          document.getElementById("pool_usage").innerText = '21';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '182,277';
          document.getElementById("total_cost").innerHTML = '45,186';
          document.getElementById("total_distance").innerHTML = '4,604';
          document.getElementById("cost_per_ton").innerHTML = '248';
          document.getElementById("pool_usage").innerText = '10';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '91,138';
          document.getElementById("total_cost").innerHTML = '35,755';
          document.getElementById("total_distance").innerHTML = '4,071';
          document.getElementById("cost_per_ton").innerHTML = '392';
          document.getElementById("pool_usage").innerText = '5';
        }
        else {
          document.getElementById("total_volume").innerText = '18,228';
          document.getElementById("total_cost").innerHTML = '7,161';
          document.getElementById("total_distance").innerHTML = '1,914';
          document.getElementById("cost_per_ton").innerHTML = '393';
          document.getElementById("pool_usage").innerText = '1';
        }
      }
      else if (industry == 'energy') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,199';
          document.getElementById("total_distance").innerHTML = '241,248';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,065,173';
          document.getElementById("total_distance").innerHTML = '247,291';
          document.getElementById("cost_per_ton").innerHTML = '5,218';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,051,721';
          document.getElementById("total_cost").innerHTML = '8,188,888';
          document.getElementById("total_distance").innerHTML = '63,431';
          document.getElementById("cost_per_ton").innerHTML = '7,786';
          document.getElementById("pool_usage").innerText = '61';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '525,861';
          document.getElementById("total_cost").innerHTML = '7,845,148';
          document.getElementById("total_distance").innerHTML = '30,826';
          document.getElementById("cost_per_ton").innerHTML = '14,919';
          document.getElementById("pool_usage").innerText = '30';
        }
        else {
          document.getElementById("total_volume").innerText = '105,172';
          document.getElementById("total_cost").innerHTML = '5,572,413';
          document.getElementById("total_distance").innerHTML = '18,161';
          document.getElementById("cost_per_ton").innerHTML = '52,984';
          document.getElementById("pool_usage").innerText = '6';
        }
      }
      else if (industry == 'oil_refining') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,636';
          document.getElementById("total_distance").innerHTML = '180,609';
          document.getElementById("cost_per_ton").innerHTML = '5,212';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,321,052';
          document.getElementById("total_cost").innerHTML = '8,331,118';
          document.getElementById("total_distance").innerHTML = '51,870';
          document.getElementById("cost_per_ton").innerHTML = '6,306';
          document.getElementById("pool_usage").innerText = '76';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '660,526';
          document.getElementById("total_cost").innerHTML = '7,999,460';
          document.getElementById("total_distance").innerHTML = '34,078';
          document.getElementById("cost_per_ton").innerHTML = '12,111';
          document.getElementById("pool_usage").innerText = '38';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '330,263';
          document.getElementById("total_cost").innerHTML = '7,805,848';
          document.getElementById("total_distance").innerHTML = '13,319';
          document.getElementById("cost_per_ton").innerHTML = '23,635';
          document.getElementById("pool_usage").innerText = '19';
        }
        else {
          document.getElementById("total_volume").innerText = '66,053';
          document.getElementById("total_cost").innerHTML = '5,483,917';
          document.getElementById("total_distance").innerHTML = '3,220';
          document.getElementById("cost_per_ton").innerHTML = '83,023';
          document.getElementById("pool_usage").innerText = '4';
        }
      }
      else if (industry == 'steel') {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '429';
          document.getElementById("total_cost").innerHTML = '227';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '286';
          document.getElementById("total_cost").innerHTML = '151';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '143';
          document.getElementById("total_cost").innerHTML = '76';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '72';
          document.getElementById("total_cost").innerHTML = '38';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
        else {
          document.getElementById("total_volume").innerText = '14';
          document.getElementById("total_cost").innerHTML = '8';
          document.getElementById("total_distance").innerHTML = '46';
          document.getElementById("cost_per_ton").innerHTML = '529';
          document.getElementById("pool_usage").innerText = '0';
        }
      }
      else {
        if (timeframe == '30_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,054,297';
          document.getElementById("total_distance").innerHTML = '283,160';
          document.getElementById("cost_per_ton").innerHTML = '5,211';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '20_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,061,900';
          document.getElementById("total_distance").innerHTML = '266,775';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '10_year') {
          document.getElementById("total_volume").innerText = '1,737,409';
          document.getElementById("total_cost").innerHTML = '9,062,764';
          document.getElementById("total_distance").innerHTML = '257,489';
          document.getElementById("cost_per_ton").innerHTML = '5,216';
          document.getElementById("pool_usage").innerText = '100';
        }
        else if (timeframe == '5_year') {
          document.getElementById("total_volume").innerText = '947,334';
          document.getElementById("total_cost").innerHTML = '8,139,369';
          document.getElementById("total_distance").innerHTML = '67,874';
          document.getElementById("cost_per_ton").innerHTML = '8,592';
          document.getElementById("pool_usage").innerText = '55';
        }
        else {
          document.getElementById("total_volume").innerText = '189,467';
          document.getElementById("total_cost").innerHTML = '7,735,821';
          document.getElementById("total_distance").innerHTML = '27,118';
          document.getElementById("cost_per_ton").innerHTML = '40,829';
          document.getElementById("pool_usage").innerText = '11';
        }
      }
    }
  });
</script>

</body>
</html>
